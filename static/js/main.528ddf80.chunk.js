(this["webpackJsonppulp-ui"]=this["webpackJsonppulp-ui"]||[]).push([[0],{123:function(e,a,t){e.exports=t.p+"static/media/notFound.a6027643.gif"},128:function(e,a,t){e.exports=t(255)},133:function(e,a,t){},134:function(e,a,t){},158:function(e,a){},160:function(e,a){},198:function(e,a){},199:function(e,a){},255:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(118),r=t.n(c),o=(t(133),t(134),t(8)),s=t(21),i=t(1),m=t(13),u=t(119),d=t(120),p=t(126),E=t(125),h=t(4),g=t.n(h),f=t(5),v=l.a.createContext(),b=function(e){Object(p.a)(t,e);var a=Object(E.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).state={data:[],query:"",changeQuery:function(a){e.setState({query:a.target.value})},searchOptions:["all","all",0,"date_added"],changeOptions:function(a,t){var n=Object(m.a)(e.state.searchOptions);n[t]=a,e.setState({searchOptions:n}),setTimeout((function(){e.state.searchMovies(null,null)}),100)},paggination:[20,1,0],changePage:function(a){var t=Object(m.a)(e.state.paggination),n=Object(i.a)(t,3),l=n[0],c=n[1],r=n[2];a?Math.ceil(r/l)>c&&t[1]++:c>=2&&t[1]--,e.setState({paggination:Object(m.a)(t),data:[],loading:!0});var o=e.state.searchOptions,s=e.state.query;g.a.get("http://localhost:5000/search?query=".concat(s,"&limit=").concat(t[0],"&page=").concat(t[1],"&quality=").concat(o[0],"&genre=").concat(o[1],"&rating=").concat(o[2],"&sort=").concat(o[3])).then((function(a){e.setState({data:Object(m.a)(a.data.data),loading:!1})})).catch((function(){e.setState({loading:!1,err:!0})}))},setPage:function(a){e.setState({data:[],loading:!0});var t=Object(m.a)(e.state.paggination);t[1]=a;var n=e.state.searchOptions,l=e.state.query;g.a.get("http://localhost:5000/search?query=".concat(l,"&limit=").concat(t[0],"&page=").concat(t[1],"&quality=").concat(n[0],"&genre=").concat(n[1],"&rating=").concat(n[2],"&sort=").concat(n[3])).then((function(a){e.setState({data:Object(m.a)(a.data.data),loading:!1,paggination:Object(m.a)(t)})})).catch((function(){e.setState({loading:!1,err:!0})}))},loading:!1,err:!1,searchMovies:function(a,t){"form"===a&&t.preventDefault(),e.setState({data:[],loading:!0,err:!1,paggination:[20,1,0]});var n=e.state.searchOptions,l=e.state.query,c=[20,1,0];g.a.get("http://localhost:5000/search?query=".concat(l,"&limit=").concat(c[0],"&page=").concat(c[1],"&quality=").concat(n[0],"&genre=").concat(n[1],"&rating=").concat(n[2],"&sort=").concat(n[3])).then((function(a){c[2]=a.data.paggination.count,e.setState({data:Object(m.a)(a.data.data),loading:!1,paggination:[].concat(c)})})).catch((function(){e.setState({loading:!1,err:!0})}))},token:!1,setToken:function(a){e.setState({token:a})},logOut:function(){e.setState({token:!1}),(new f.a).remove("token",{path:"/"})}},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=(new f.a).get("token");e&&this.setState({token:e})}},{key:"render",value:function(){return l.a.createElement(v.Provider,{value:this.state},this.props.children)}}]),t}(n.Component),N=v.Consumer;function O(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1];return l.a.createElement(N,null,(function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"header"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"logo"},l.a.createElement(o.b,{to:"/"},l.a.createElement("i",{className:"fas fa-ticket-alt"}),"PULP")),l.a.createElement("div",{className:"header-right"},e.token?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.b,{to:"/user",className:"account"},l.a.createElement("i",{className:"fas fa-user"})," User"),l.a.createElement(o.b,{to:"/bookmark"},"Bookmarks"),l.a.createElement(o.b,{to:"/",onClick:e.logOut},"Log Out")):l.a.createElement(l.a.Fragment,null,l.a.createElement(o.b,{to:"/login"},"Login"),l.a.createElement(o.b,{to:"/register"},"Register"))),l.a.createElement("div",{className:"dropdown",onClick:function(){c(!t)}},l.a.createElement("i",{className:"fas fa-bars"})))),t?l.a.createElement("div",{className:"header-bc",onClick:function(){c(!t)}}):null,l.a.createElement("div",{className:"dropdown-menu ".concat(t?"dropdown-open":null)},e.token?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.b,{to:"/bookmark",onClick:function(){c(!t)}},"Bookmarks"),l.a.createElement(o.b,{to:"/",onClick:e.logOut},"Log Out")):l.a.createElement(l.a.Fragment,null,l.a.createElement(o.b,{to:"/login",onClick:function(){c(!t)}},"Login"),l.a.createElement(o.b,{to:"/register",onClick:function(){c(!t)}},"Register"))))}))}var k=t(123),j=t.n(k);function w(){return l.a.createElement("div",{className:"not-found-page container wrapper"},l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("div",{className:"not-found-img"},l.a.createElement("img",{src:j.a,alt:"John Travolta Lost"})))}function y(e){return l.a.createElement(o.b,{to:"/movie/"+e.id},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-cover"},l.a.createElement("img",{src:e.cover,alt:"brih"})),l.a.createElement("div",{className:"card-detail"},l.a.createElement("h4",{className:"card-title"},e.title),l.a.createElement("div",{className:"card-rating"},l.a.createElement("span",{className:"stars"},function(){for(var a=[],t=0;t<5;t++)t<Math.ceil(e.rating/2)?a.push(l.a.createElement("i",{className:"fas fa-star rating-true",key:t})):a.push(l.a.createElement("i",{className:"fas fa-star",key:t}));return a}()),l.a.createElement("p",null,e.rating)),l.a.createElement("p",{className:"card-language"},e.language),l.a.createElement("div",{className:"card-genres"},l.a.createElement("p",null,e.genre.join(", "))))))}function S(){var e=this,a=function(e,a,t){a(t.target.value,e)};return l.a.createElement(N,null,(function(t){return l.a.createElement("div",{id:"options-box"},l.a.createElement("div",{className:"select-box"},l.a.createElement("h3",null,"Quality:"),l.a.createElement("select",{className:"selected",onChange:a.bind(e,0,t.changeOptions)},l.a.createElement("option",{value:"all"},"All"),l.a.createElement("option",{value:"720p"},"720p"),l.a.createElement("option",{value:"1080p"},"1080p"),l.a.createElement("option",{value:"3D"},"3D"))),l.a.createElement("div",{className:"select-box"},l.a.createElement("h3",null,"Genre:"),l.a.createElement("select",{className:"selected",onChange:a.bind(e,1,t.changeOptions)},l.a.createElement("option",{value:"all"},"All"),l.a.createElement("option",{value:"Action"},"Action"),l.a.createElement("option",{value:"Adventure"},"Adventure"),l.a.createElement("option",{value:"Animation"},"Animation"),l.a.createElement("option",{value:"Biography"},"Biography"),l.a.createElement("option",{value:"Comedy"},"Comedy"),l.a.createElement("option",{value:"Crime"},"Crime"),l.a.createElement("option",{value:"Documentary"},"Documentary"),l.a.createElement("option",{value:"Drama"},"Drama"),l.a.createElement("option",{value:"Family"},"Family"),l.a.createElement("option",{value:"Fantasy"},"Fantasy"),l.a.createElement("option",{value:"Film-Noir"},"Film-Noir"),l.a.createElement("option",{value:"Game-Show"},"Game-Show"),l.a.createElement("option",{value:"History"},"History"),l.a.createElement("option",{value:"Horror"},"Horror"),l.a.createElement("option",{value:"Music"},"Music"),l.a.createElement("option",{value:"Musical"},"Musical"),l.a.createElement("option",{value:"Mystery"},"Mystery"),l.a.createElement("option",{value:"News"},"News"),l.a.createElement("option",{value:"Reality-TV"},"Reality-TV"),l.a.createElement("option",{value:"Romance"},"Romance"),l.a.createElement("option",{value:"Sci-Fi"},"Sci-Fi"),l.a.createElement("option",{value:"Sport"},"Sport"),l.a.createElement("option",{value:"Talk-Show"},"Talk-Show"),l.a.createElement("option",{value:"Thriller"},"Thriller"),l.a.createElement("option",{value:"War"},"War"),l.a.createElement("option",{value:"Western"},"Western"))),l.a.createElement("div",{className:"select-box"},l.a.createElement("h3",null,"Rating:"),l.a.createElement("select",{className:"selected",onChange:a.bind(e,2,t.changeOptions)},l.a.createElement("option",{value:"0"},"All"),l.a.createElement("option",{value:"9"},"9"),l.a.createElement("option",{value:"8"},"8"),l.a.createElement("option",{value:"7"},"7"),l.a.createElement("option",{value:"6"},"6"),l.a.createElement("option",{value:"5"},"5"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"1"},"1"))),l.a.createElement("div",{className:"select-box"},l.a.createElement("h3",null,"Order by:"),l.a.createElement("select",{className:"selected",onChange:a.bind(e,3,t.changeOptions)},l.a.createElement("option",{value:"date_added"},"Latest"),l.a.createElement("option",{value:"like_count"},"Likes"),l.a.createElement("option",{value:"download_count"},"Downloads"),l.a.createElement("option",{value:"rating"},"Rating"),l.a.createElement("option",{value:"year"},"Year"),l.a.createElement("option",{value:"title"},"Alphabetical"))))}))}function C(e){var a=this;return l.a.createElement("div",{className:"paggination"},l.a.createElement("ul",null,l.a.createElement("li",{className:"arrow",onClick:e.changePage.bind(this,!1)},l.a.createElement("i",{className:"fas fa-angle-left"})),e.paggination[1]>=3?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:e.setPage.bind(this,1)},"1"),l.a.createElement("li",null,"...")):null,e.paggination[1]>=2?l.a.createElement("li",{onClick:e.setPage.bind(this,e.paggination[1]-1)},e.paggination[1]-1):null,function(e,t){for(var n=Object(i.a)(e,3),c=n[0],r=n[1],o=n[2],s=[],m=0;m<3;m++)0===m?s.push(l.a.createElement("li",{key:m,className:"current",onClick:t.bind(a,r+m)},r+m)):Math.ceil(o/c)>=r+m&&s.push(l.a.createElement("li",{key:m,onClick:t.bind(a,r+m)},r+m));return s}(e.paggination,e.setPage),l.a.createElement("li",{className:"arrow",onClick:e.changePage.bind(this,!0)},l.a.createElement("i",{className:"fas fa-angle-right"}))))}function P(){var e=this;return l.a.createElement(N,null,(function(a){return l.a.createElement("div",{className:"container wrapper"},l.a.createElement("h1",{className:"site-name"},l.a.createElement("i",{className:"fas fa-film"})," ",l.a.createElement("span",null,"Pulp")," Stream"),l.a.createElement("form",{id:"form",onSubmit:a.searchMovies.bind(e,"form")},l.a.createElement("i",{className:"fas fa-search"}),l.a.createElement("input",{type:"text",id:"query",placeholder:"Search...",onChange:a.changeQuery,value:a.query})),l.a.createElement(S,null),0!==a.data.length||a.loading||a.err?null:l.a.createElement("div",{className:"explore",onClick:a.searchMovies},l.a.createElement("button",null,l.a.createElement("i",{className:"fas fa-random"})," Explore")),0!==a.data.length&&a.paggination[2]>20?l.a.createElement(C,{changePage:a.changePage,setPage:a.setPage,paggination:a.paggination}):null,a.loading?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,a.err?l.a.createElement("h1",{className:"err"},"Nothing was found"):null,l.a.createElement("div",{id:"row"},0!==a.data.length?a.data.map((function(e,a){return l.a.createElement(y,{key:a,title:e.title,cover:e.medium_cover_image,rating:e.rating,language:e.language,genre:e.genres,id:e.id})})):null),0!==a.data.length&&a.paggination[2]>20?l.a.createElement(C,{changePage:a.changePage,setPage:a.setPage,paggination:a.paggination}):null)}))}var T=t(127),x=t(124),_=t.n(x);function q(e){var a=this,t=Object(n.useState)({}),c=Object(i.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),k=O[0],j=O[1],w=Object(n.useState)(""),y=Object(i.a)(w,2),S=y[0],C=y[1],P=Object(n.useState)(null),x=Object(i.a)(P,2),q=x[0],A=x[1],M=Object(n.useState)(""),F=Object(i.a)(M,2),D=F[0],B=F[1],L=Object(n.useState)(!1),R=Object(i.a)(L,2),z=R[0],U=R[1],G=function(e,a){j(!k),"iframe"===a&&(C(e),A("iframe")),"screenshot"===a&&(B(e),A("screenshot")),"download"===a&&A("download")},H=function(){var e=(new f.a).get("token");z?g.a.post("http://localhost:5000/bookmark/delete",{movieCode:r.id},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(){U(!1)})):g.a.post("http://localhost:5000/bookmark",{movieCode:r.id,title:r.title,year:r.year,rating:r.rating,genres:r.genres,language:r.language,cover:r.medium_cover_image,user:_.a.decode(e).id,check:!1},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(){U(!0)})).catch()};return Object(n.useEffect)((function(){o([]),d(!0),g.a.get("http://localhost:5000/movie/".concat(e.match.params.id)).then((function(e){0!==e.data.data.id?(d(!1),o(Object(T.a)({},e.data.data)),(new f.a).get("token")&&function(e){var a=(new f.a).get("token");g.a.post("http://localhost:5000/bookmark/check",{movieCode:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){e.data.data&&U(!0)}))}(e.data.data.id)):(d(!1),v(!0))})).catch((function(){d(!1),v(!0)}))}),[]),l.a.createElement(N,null,(function(e){return l.a.createElement("div",{className:"container wrapper"},k?l.a.createElement("div",{id:"modal"},l.a.createElement("div",{className:"bc",onClick:G.bind(a,null,null)}),l.a.createElement("div",{id:"modal-content"},"iframe"===q?l.a.createElement("iframe",{src:S,title:"Stream movie",frameBorder:"0",allowFullScreen:!0,id:"iframe"}):null,"screenshot"===q?l.a.createElement("img",{id:"screenshot",src:D.replace("medium","large"),alt:"Screenshot"}):null,"download"===q?l.a.createElement("div",{className:"options"},r.torrents.map((function(e,a){return l.a.createElement("a",{href:e.url,key:a},e.quality," - ",e.type," - ",e.size)}))):null)):null,u?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,h?l.a.createElement("h1",{className:"err"},"Nothing was found"):null,r.id?l.a.createElement("div",{className:"movie"},l.a.createElement("div",{className:"movie-cover"},l.a.createElement("img",{src:r.background_image,alt:"Movie Poster"}),l.a.createElement("div",{className:"play cover-play",onClick:G.bind(a,r.stream,"iframe")},l.a.createElement("i",{className:"fas fa-play"})),l.a.createElement("div",{id:"links"},l.a.createElement("div",{className:"download"},l.a.createElement("p",{onClick:G.bind(a,null,"download")},l.a.createElement("i",{className:"fas fa-cloud-download-alt"})," Download")),l.a.createElement("div",{id:"trailer",onClick:G.bind(a,"https://www.youtube.com/embed/"+r.yt_trailer_code,"iframe")},l.a.createElement("i",{className:"fab fa-youtube"})," Trailer"))),l.a.createElement("div",{className:"movie-detail"},l.a.createElement("div",{className:"movie-poster"},l.a.createElement("img",{src:r.medium_cover_image,alt:"Movie Cover"}),e.token?l.a.createElement("div",{className:"movie-bookmark ".concat(z?"bookmarked":null),onClick:H},l.a.createElement("i",{className:"fas fa-bookmark"})):null,l.a.createElement("div",{className:"play poster-play",onClick:G.bind(a,r.stream,"iframe")},l.a.createElement("i",{className:"fas fa-play"}))),l.a.createElement("div",{className:"detail"},l.a.createElement("h2",{className:"movie-title"},r.title),l.a.createElement("div",{className:"rating"},l.a.createElement("div",{className:"stars"},function(){for(var e=[],a=0;a<5;a++)a<Math.ceil(r.rating/2)?e.push(l.a.createElement("i",{className:"fas fa-star rating-true",key:a})):e.push(l.a.createElement("i",{className:"fas fa-star",key:a}));return e}()),l.a.createElement("p",null,r.rating)),l.a.createElement("ul",{className:"more"},0!==r.runtime?l.a.createElement("li",null,r.runtime+" min"):null,l.a.createElement("li",null,r.genres.join(", ")),l.a.createElement("li",null,r.year),l.a.createElement("li",null,r.language)),l.a.createElement("p",{className:"desc"},l.a.createElement("strong",null,"Summary: "),r.description_intro),l.a.createElement("div",{id:"links"},l.a.createElement("div",{className:"download"},l.a.createElement("p",{onClick:G.bind(a,null,"download")},l.a.createElement("i",{className:"fas fa-cloud-download-alt"})," Download")),l.a.createElement("div",{id:"trailer",onClick:G.bind(a,"https://www.youtube.com/embed/"+r.yt_trailer_code,"iframe")},l.a.createElement("i",{className:"fab fa-youtube"})," Trailer")))),l.a.createElement("div",{className:"movie-screenshots"},l.a.createElement("h1",null,"Screenshots:"),l.a.createElement("div",{className:"screenshots"},l.a.createElement("img",{src:r.medium_screenshot_image1,alt:"Screenshot 1",onClick:G.bind(a,r.medium_screenshot_image1,"screenshot")}),l.a.createElement("img",{src:r.medium_screenshot_image2,alt:"Screenshot 2",onClick:G.bind(a,r.medium_screenshot_image2,"screenshot")}),l.a.createElement("img",{src:r.medium_screenshot_image3,alt:"Screenshot 3",onClick:G.bind(a,r.medium_screenshot_image3,"screenshot")}))),r.cast?l.a.createElement("div",{className:"movie-actors"},l.a.createElement("h1",null,"Actors:"),l.a.createElement("ul",null,r.cast.map((function(e,a){return l.a.createElement("li",{key:a},e.url_small_image?l.a.createElement("img",{src:e.url_small_image,alt:e.name+" Headshot"}):l.a.createElement("i",{className:"fas fa-user"}),l.a.createElement("p",null,e.name," as ",e.character_name))})))):null):null)}))}function A(e){var a=this,t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],s=c[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),v=h[0],b=h[1],O=Object(n.useState)(!1),k=Object(i.a)(O,2),j=k[0],w=k[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],P=S[1],T=function(e,a){"email"===e&&s(a.target.value),"password"===e&&p(a.target.value)},x=function(a,t){t.preventDefault(),b(!0),g.a.post("http://localhost:5000/auth/login",{email:r,password:d},{headers:{"Content-Type":"application/json"}}).then((function(t){b(!1),a(t.data.token),(new f.a).set("token",t.data.token,{path:"/"}),P(!0),setTimeout((function(){e.history.push("/")}),1e3)})).catch((function(e){b(!1),w(!0)}))};return Object(n.useEffect)((function(){(new f.a).get("token")&&e.history.push("/")}),[]),l.a.createElement(N,null,(function(e){return l.a.createElement("div",{id:"login",className:"container wrapper"},l.a.createElement("form",{className:"user-form",onSubmit:x.bind(a,e.setToken)},l.a.createElement("h1",null,"Login"),l.a.createElement("div",{className:"email"},l.a.createElement("p",null,"Email Address"),l.a.createElement("input",{type:"email",placeholder:"Email Address...",required:!0,onChange:T.bind(a,"email"),className:j?"form-error":null})),l.a.createElement("div",{className:"password"},l.a.createElement("p",null,"Password"),l.a.createElement("input",{type:"password",placeholder:"Password...",required:!0,onChange:T.bind(a,"password"),className:j?"form-error":null})),l.a.createElement("button",{className:C?"form-success":null},v?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):C?l.a.createElement("i",{className:"fas fa-check"}):"Login"),l.a.createElement("div",{className:"forgot-password-message"},l.a.createElement(o.b,{to:"/forgotpassword"},"Forgot Password"))))}))}function M(e){var a=this,t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(""),E=Object(i.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),k=O[0],j=O[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),S=y[0],C=y[1],P=Object(n.useState)(!1),T=Object(i.a)(P,2),x=T[0],_=T[1],q=Object(n.useState)(!1),A=Object(i.a)(q,2),M=A[0],F=A[1],D=function(a,t){t.preventDefault(),j(!0),g.a.post("http://localhost:5000/auth/register",{username:r,email:u,password:h},{headers:{"Content-Type":"application/json"}}).then((function(t){j(!1),a(t.data.token),(new f.a).set("token",t.data.token,{path:"/"}),F(!0),setTimeout((function(){e.history.push("/")}),1e3)})).catch((function(e){j(!1),C(!0)}))};return Object(n.useEffect)((function(){(new f.a).get("token")&&e.history.push("/")}),[]),l.a.createElement(N,null,(function(e){return l.a.createElement("div",{id:"register",className:"container wrapper"},l.a.createElement("form",{className:"user-form",onSubmit:D.bind(a,e.setToken)},l.a.createElement("h1",null,"Register"),l.a.createElement("div",{className:"username"},l.a.createElement("p",null,"Username"),l.a.createElement("input",{type:"text",placeholder:"Username...",required:!0,onChange:function(e){o(e.target.value)},minLength:"5"})),l.a.createElement("div",{className:"email"},l.a.createElement("p",null,"Email Address"),l.a.createElement("input",{type:"email",placeholder:"Email Address...",required:!0,onChange:function(e){d(e.target.value)},className:S?"form-error":null})),l.a.createElement("div",{className:"password"},l.a.createElement("p",null,"Password"),l.a.createElement("span",null,l.a.createElement("input",{type:x?"text":"password",placeholder:"Password...",required:!0,onChange:function(e){v(e.target.value)},minLength:"8"}),l.a.createElement("div",{onClick:function(){_(!x)}},l.a.createElement("i",{className:"fas fa-".concat(x?"eye-slash":"eye")})))),l.a.createElement("button",{className:M?"form-success":null},k?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):M?l.a.createElement("i",{className:"fas fa-check"}):"Register")))}))}function F(e){var a=this;return l.a.createElement("div",{className:"paggination"},l.a.createElement("ul",null,l.a.createElement("li",{className:"arrow",onClick:e.changePage.bind(this,!1)},l.a.createElement("i",{className:"fas fa-angle-left"})),e.paggination[1]>=3?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:e.setPage.bind(this,1)},"1"),l.a.createElement("li",null,"...")):null,e.paggination[1]>=2?l.a.createElement("li",{onClick:e.setPage.bind(this,e.paggination[1]-1)},e.paggination[1]-1):null,function(e,t){for(var n=Object(i.a)(e,3),c=n[0],r=n[1],o=n[2],s=[],m=0;m<3;m++)0===m?s.push(l.a.createElement("li",{key:m,className:"current",onClick:t.bind(a,r+m)},r+m)):Math.ceil(o/c)>=r+m&&s.push(l.a.createElement("li",{key:m,onClick:t.bind(a,r+m)},r+m));return s}(e.paggination,e.setPage),l.a.createElement("li",{className:"arrow",onClick:e.changePage.bind(this,!0)},l.a.createElement("i",{className:"fas fa-angle-right"}))))}function D(e){var a=Object(n.useState)([]),t=Object(i.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),u=s[0],d=s[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)([]),N=Object(i.a)(b,2),O=N[0],k=N[1];return Object(n.useEffect)((function(){var a=(new f.a).get("token");a||e.history.push("/"),d(!0),g.a.get("http://localhost:5000/bookmark?page=1",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){d(!1),0!==e.data.data.length?(r(Object(m.a)(e.data.data)),k([e.data.paggination.limit,1,e.data.paggination.count])):v(!0)})).catch((function(){d(!1)}))}),[]),l.a.createElement("div",{className:"container wrapper"},u?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,h?l.a.createElement("h1",{className:"err"},"You have no Bookmarks"):null,0!==c.length?l.a.createElement("h1",null,"Bookmarks"):null,0!==c.length&&O[2]>20?l.a.createElement(F,{changePage:function(e){var a=(new f.a).get("token"),t=Object(m.a)(O),n=Object(i.a)(t,3),l=n[0],c=n[1],o=n[2];e?Math.ceil(o/l)>c&&t[1]++:c>=2&&t[1]--,k(t),r([]),d(!0),g.a.get("http://localhost:5000/bookmark?page=".concat(t[1]),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){d(!1),r(e.data.data)})).catch((function(){d(!1),v(!0)}))},setPage:function(e){var a=(new f.a).get("token");r([]),d(!0);var t=Object(m.a)(O);t[1]=e,g.a.get("http://localhost:5000/bookmark?page=".concat(t[1]),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){r(e.data.data),d(!1),k(t)})).catch((function(){d(!1),v(!0)}))},paggination:O}):null,l.a.createElement("div",{id:"row"},0!==c.length?c.map((function(e,a){return l.a.createElement(y,{key:a,title:e.title,cover:e.cover,rating:e.rating,language:e.language,genre:e.genres,id:e.movieCode})})):null))}function B(e){var a=Object(n.useState)(""),t=Object(i.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)(!1),N=Object(i.a)(b,2),O=N[0],k=N[1],j=Object(n.useState)(!1),w=Object(i.a)(j,2),y=w[0],S=w[1];Object(n.useEffect)((function(){var a=(new f.a).get("token");a?g.a.get("http://localhost:5000/auth/user",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){r(e.data.data.username),d(e.data.data.email)})).catch((function(e){console.log(e)})):e.history.push("/")}),[]);return l.a.createElement("div",{className:"container wrapper"},l.a.createElement("form",{className:"user-form",onSubmit:function(e){e.preventDefault();var a=(new f.a).get("token");k(!0),g.a.put("http://localhost:5000/auth/user/detail",{username:c,email:u},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){S(!0),k(!1),setTimeout((function(){S(!1)}),2e3)}))}},l.a.createElement("div",{className:"edit"},l.a.createElement("h1",null,"User"),l.a.createElement("p",{className:"edit-detail ".concat(h?"edit-detail-on":null),onClick:function(){v(!h)}},"Edit")),l.a.createElement("div",{className:"username"},l.a.createElement("p",null,"Username"),l.a.createElement("input",{type:"text",placeholder:"Username",minLength:"1",maxLength:"15",readOnly:!h,value:c,required:!0,onChange:function(e){r(e.target.value)}})),l.a.createElement("div",{className:"email"},l.a.createElement("p",null,"Email"),l.a.createElement("input",{type:"email",placeholder:"Email",value:u,readOnly:!h,required:!0,onChange:function(e){d(e.target.value)}})),h?l.a.createElement("button",{className:"".concat(y?"form-success":null," ")},O?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,y?l.a.createElement("i",{className:"fas fa-check"}):null,O||y?null:"Save"):null,l.a.createElement("div",{className:"user-password"},l.a.createElement(o.b,{to:"/user/password"},"Change Password"))))}function L(e){var a=Object(n.useState)(""),t=Object(i.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),E=p[0],h=p[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),N=b[0],O=b[1],k=Object(n.useState)(!1),j=Object(i.a)(k,2),w=j[0],y=j[1],S=Object(n.useState)(!1),C=Object(i.a)(S,2),P=C[0],T=C[1],x=Object(n.useState)(!1),_=Object(i.a)(x,2),q=_[0],A=_[1];Object(n.useEffect)((function(){(new f.a).get("token")||e.history.push("/")}),[]);return l.a.createElement("div",{className:"container wrapper"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=(new f.a).get("token");h(!0),O(!1),A(!1),g.a.put("http://localhost:5000/auth/changepassword",{currentPassword:c,newPassword:m},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){O(!0),h(!1),setTimeout((function(){O(!1)}),2e3),r(""),u("")})).catch((function(){h(!1),A(!0),setTimeout((function(){A(!1)}),2e3)}))},className:"user-form"},l.a.createElement("h1",null,"Change Password"),l.a.createElement("div",{className:"password"},l.a.createElement("p",null,"Current Password"),l.a.createElement("span",null,l.a.createElement("input",{type:w?"text":"password",placeholder:"Current Password",required:!0,value:c,onChange:function(e){r(e.target.value)},className:q?"form-error":null}),l.a.createElement("div",{onClick:function(){y(!w)}},l.a.createElement("i",{className:"fas fa-".concat(w?"eye-slash":"eye")}))),q?l.a.createElement("p",{className:"wrong-password"},"Wrong Password"):null),l.a.createElement("div",{className:"password"},l.a.createElement("p",null,"New Password"),l.a.createElement("span",null,l.a.createElement("input",{type:P?"text":"password",placeholder:"New Password",required:!0,minLength:"6",value:m,onChange:function(e){u(e.target.value)}}),l.a.createElement("div",{onClick:function(){T(!P)}},l.a.createElement("i",{className:"fas fa-".concat(P?"eye-slash":"eye")})))),l.a.createElement("button",{className:"".concat(N?"form-success":null," ")},E?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,N?l.a.createElement("i",{className:"fas fa-check"}):null,E||N?null:"Save")))}function R(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],m=o[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],E=d[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),v=f[0],b=f[1];return l.a.createElement("div",{className:"container wrapper"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E(!0),m(!1),b(!1),g.a.post("http://localhost:5000/auth/forgotpassword",{email:t},{headers:{"Content-Type":"application/json"}}).then((function(e){E(!1),m(!1),b(!0)})).catch((function(e){E(!1),m(!0),b(!1)}))},className:"user-form"},l.a.createElement("h1",null,"Reset your password"),l.a.createElement("div",{className:"email"},l.a.createElement("p",null,"Enter your user account's verified email address and we will send you a password reset link."),l.a.createElement("input",{type:"email",placeholder:"Email address...",className:'"forgot-password" '.concat(s?"form-error":null),value:t,onChange:function(e){c(e.target.value)}})),l.a.createElement("button",{className:"".concat(v?"form-success":null," ").concat(s?"btn-error":null)},p?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,v?l.a.createElement("i",{className:"fas fa-check"}):null,s?l.a.createElement("i",{className:"fas fa-exclamation-triangle"}):null,p||v||s?null:"GO"),v?l.a.createElement("p",{className:"success-text"},"Please check your email address"):null,s?l.a.createElement("p",{className:"success-text"},"Email Does not exist"):null))}function z(e){var a=this,t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)("checking"),E=Object(i.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),k=O[0],j=O[1],w=Object(n.useState)(!0),y=Object(i.a)(w,2),S=y[0],C=y[1],P=Object(n.useState)(!1),T=Object(i.a)(P,2),x=T[0],_=T[1],q=Object(n.useState)(!1),A=Object(i.a)(q,2),M=A[0],F=A[1];Object(n.useEffect)((function(){g.a.get("http://localhost:5000/auth/checkresetpassword/".concat(e.match.params.token)).then((function(e){C(!1),v("valid")})).catch((function(e){C(!1),v("invalid")}))}),[]);var D=function(a,t){t.preventDefault(),j(!0),_(!1),F(!1),r===u?g.a.put("http://localhost:5000/auth/resetpassword/".concat(e.match.params.token),{password:r},{headers:{"Content-Type":"application/json"}}).then((function(t){j(!1),_(!1),F(!0),setTimeout((function(){(new f.a).set("token",t.data.token,{path:"/"}),a(t.data.token),e.history.push("/")}),1e3)})):(j(!1),_(!0),setTimeout((function(){_(!1)}),2e3))};return l.a.createElement(N,null,(function(e){return l.a.createElement("div",{className:"continer wrapper"},"valid"===h?l.a.createElement("form",{className:"user-form",onSubmit:D.bind(a,e.setToken)},l.a.createElement("h1",null,"Reset Password"),l.a.createElement("div",{className:"password"},l.a.createElement("p",null,"New Password"),l.a.createElement("input",{type:"text",placeholder:"New Password",className:x?"form-error":null,onChange:function(e){o(e.target.value)},required:!0,value:r})),l.a.createElement("div",{className:"password"},l.a.createElement("p",null,"Repeat New Password"),l.a.createElement("input",{type:"text",placeholder:"Repeat New Password",className:x?"form-error":null,onChange:function(e){d(e.target.value)},required:!0,value:u})),l.a.createElement("button",{className:"".concat(M?"form-success":null," ").concat(x?"btn-error":null)},k?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,M?l.a.createElement("i",{className:"fas fa-check"}):null,x?l.a.createElement("i",{className:"fas fa-exclamation-triangle"}):null,k||M||x?null:"GO"),x?l.a.createElement("p",{className:"same-password"},"Please make shure that both passwords are the same"):null):null,S?l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loader"})):null,"invalid"===h?l.a.createElement("h1",{className:"invalide-token"},"Invalide Token"):null)}))}function U(){return l.a.createElement(b,null,l.a.createElement(o.a,null,l.a.createElement(O,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:P}),l.a.createElement(s.a,{exact:!0,path:"/movie/:id",component:q}),l.a.createElement(s.a,{exact:!0,path:"/login",component:A}),l.a.createElement(s.a,{exact:!0,path:"/register",component:M}),l.a.createElement(s.a,{exact:!0,path:"/bookmark",component:D}),l.a.createElement(s.a,{exact:!0,path:"/forgotpassword",component:R}),l.a.createElement(s.a,{exact:!0,path:"/resetpassword/:token",component:z}),l.a.createElement(s.a,{exact:!0,path:"/user",component:B}),l.a.createElement(s.a,{exact:!0,path:"/user/password",component:L}),l.a.createElement(s.a,{exact:!0,path:"*",component:w}))))}r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.528ddf80.chunk.js.map